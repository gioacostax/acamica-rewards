!function(e){function t(t){for(var n,s,o=t[0],c=t[1],i=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&m.push(l[s][0]),l[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);m.length;)m.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==l[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},l={0:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var u=c;r.push([8,1]),a()}([,,,,,,,,function(e,t,a){e.exports=a(26)},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(9);var n=a(0),l=a(1),r=a(5),s=a(7);const o="PRODUCTS.SET_LOADING",c="PRODUCTS.SET_ERROR",i=e=>async t=>{t({type:"PRODUCTS.CLEAR_PRODUCTS"}),t({type:c,value:null}),t({type:o,value:!0});const a={"Content-Type":"application/json",Authorization:"Bearer "+e};try{let e=await fetch("https://coding-challenge-api.aerolab.co/products",{headers:a});if(!e.ok)throw Error(e.statusText);e=await e.json(),t({type:"PRODUCTS.SET_PRODUCTS",value:e}),t({type:o,value:!1})}catch(e){t({type:o,value:!1}),t({type:c,value:e.message})}},u=(e,t)=>(a,n)=>{let l=[];switch(e){case"category":l=n().products.listOriginal.filter(e=>e.category===t);break;case"lPrice":l=n().products.listOriginal.sort((e,t)=>e.cost>t.cost?1:-1),t&&(l=l.filter(e=>e.category===t));break;case"hPrice":l=n().products.listOriginal.sort((e,t)=>e.cost<t.cost?1:-1),t&&(l=l.filter(e=>e.category===t));break;default:l=n().products.listOriginal}a({type:"PRODUCTS.ORDER_PRODUCTS",value:l})},d={list:[],listOriginal:[],loading:!1,error:null};const m=e=>async t=>{t({type:"USER.SET_USER_ERROR",value:null}),t({type:"USER.SET_USER_LOADING",value:!0});const a={"Content-Type":"application/json",Authorization:"Bearer "+e};try{let e=await fetch("https://coding-challenge-api.aerolab.co/user/me",{headers:a});if(!e.ok)throw Error(e.statusText);e=await e.json(),t({type:"USER.SET_USER",value:e}),t({type:"USER.SET_USER_LOADING",value:!1})}catch(e){t({type:"USER.SET_USER_LOADING",value:!1}),t({type:"USER.SET_USER_ERROR",value:e.message})}},f=e=>({type:"USER.SET_POINTS",value:e}),p={info:{_id:null,name:null,points:null,loading:!1,error:null},redeemHistory:{list:[],loading:!1,error:null}};var E=Object(l.c)({products:(e=d,{type:t,value:a})=>{switch(t){case"PRODUCTS.CLEAR_PRODUCTS":return{...e,list:[]};case c:return{...e,error:a};case o:return{...e,loading:a};case"PRODUCTS.SET_PRODUCTS":return{...e,list:a,listOriginal:a};case"PRODUCTS.ORDER_PRODUCTS":return{...e,list:a};default:return e}},user:(e=p,{type:t,value:a})=>{switch(t){case"USER.SET_USER_ERROR":return{...e,info:{...e.info,error:a}};case"USER.SET_USER_LOADING":return{...e,info:{...e.info,loading:a}};case"USER.SET_USER":return{...e,info:{...e.info,id:a._id,name:a.name,points:a.points},redeemHistory:{list:a.redeemHistory.reverse(),loading:!1,error:null}};case"USER.SET_HISTORY_ERROR":return{...e,redeemHistory:{...e.redeemHistory,error:a}};case"USER.SET_HISTORY_LOADING":return{...e,redeemHistory:{...e.redeemHistory,loading:a}};case"USER.SET_HISTORY":return{...e,redeemHistory:{...e.redeemHistory,list:a}};case"USER.SET_POINTS":return{...e,info:{...e.info,points:a}};default:return e}}});const g=Object(l.d)(E,Object(l.a)(r.a));var y=s;a(16);const S="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZjRlYWNjMDc0MjM1MjAwMWVkOTA5OWYiLCJpYXQiOjE1OTg5OTE1NTJ9.XzYOIUHAf_5KdVRvZGMVR5dc5dfUt6Q9PfNuI-8alnM";function v(){return n.default.createElement("div",{className:"app"},n.default.createElement(I,{token:S}),n.default.createElement(H,{token:S}))}a(17),a(18);var O=a.p+"assets/8786ab91fddc.png",R=a.p+"assets/3b821874af44.svg",h=a.p+"assets/93e9df38eff0.gif",b=n.default.memo((function({id:e="0",picture:t=O,name:a="Producto",category:l="Desconocida",cost:r=0,token:s=null}){const[o,c]=Object(n.useState)(!1),[i,u]=Object(n.useState)(null),d=y.useSelector(e=>e),f=y.useDispatch();return n.default.createElement("div",{className:"product"},i&&n.default.createElement(w,{type:i.type,onRequestClose:()=>u(null)},i.message),n.default.createElement("img",{className:"picture",src:t,alt:a}),n.default.createElement("h3",null,a),n.default.createElement("div",{className:"category"},l),o?n.default.createElement("img",{className:"loader",src:h,alt:"loader"}):d.user.info.points>=r?n.default.createElement("button",{type:"button",onClick:async()=>{c(!0);const t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({productId:e})};try{const e=await fetch("https://coding-challenge-api.aerolab.co/redeem",t);if(!e.ok)throw Error(e.statusText);f(m(s)),c(!1),u({type:"success",message:`Redimiste un ${a}!`})}catch(e){c(!1),u({type:"error",message:`Hubo un error al remidir un ${a}!`})}}},n.default.createElement("img",{className:"coin",src:R,alt:"coin"}),r):n.default.createElement("button",{type:"button",disabled:!0},n.default.createElement("img",{className:"coin",src:R,alt:"coin"}),"Faltan ",r-d.user.info.points))})),T=(a(19),n.default.memo((function(){const e=y.useSelector(e=>e);return n.default.createElement("div",{className:"profile"},e.user.info.loading?n.default.createElement("img",{className:"loader",src:h,alt:"loader"}):n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"name"},e.user.info.name),n.default.createElement("div",{className:"points"},n.default.createElement("img",{className:"coin",src:R,alt:"coin"}),e.user.info.points)))}))),N=(a(20),a.p+"assets/5478a1030c6a.svg"),P=n.default.memo((function({token:e}){const[t,a]=Object(n.useState)(!1),l=y.useDispatch(),r=async t=>{a(!0);const n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({amount:t})};try{let e=await fetch("https://coding-challenge-api.aerolab.co/user/points",n);if(!e.ok)throw Error(e.statusText);e=await e.json(),l(f(e["New Points"])),a(!1)}catch(e){a(!1)}};return n.default.createElement("div",{className:"add-points"},n.default.createElement("div",{className:"title"},n.default.createElement("img",{className:"coin",src:R,alt:"coin"}),"AÑADIR"),n.default.createElement("div",{className:"buttons"},t?n.default.createElement("img",{className:"loader",src:h,alt:"loader"}):n.default.createElement(n.default.Fragment,null,n.default.createElement("button",{type:"button",onClick:()=>r(1e3),className:"points"},n.default.createElement("img",{className:"add",src:N,alt:"add"}),"1.000"),n.default.createElement("button",{type:"button",onClick:()=>r(5e3),className:"points"},n.default.createElement("img",{className:"add",src:N,alt:"add"}),"5.000"),n.default.createElement("button",{type:"button",onClick:()=>r(7500),className:"points"},n.default.createElement("img",{className:"add",src:N,alt:"add"}),"7.500"))))})),_=(a(21),a.p+"assets/205323acdfc3.svg"),U=n.default.memo((function(){const e=y.useSelector(e=>e);return n.default.createElement("div",{className:"history"},n.default.createElement("div",{className:"title"},n.default.createElement("img",{className:"box",src:_,alt:"box"}),"HISTORIAL"),n.default.createElement("div",{className:"list"},e.user.info.loading?n.default.createElement("img",{className:"loader",src:h,alt:"loader"}):e.user.redeemHistory.list.length?e.user.redeemHistory.list.map(e=>n.default.createElement("div",{key:Math.random().toString(36).substring(7),className:"history-item"},n.default.createElement("div",{className:"name"},e.name),n.default.createElement("div",{className:"date"},e.createDate.split("T")[0]))):"No has redimido aún"))})),C=(a(22),n.default.memo((function({size:e=1,sizePage:t=1,setPage:a=(()=>{}),actualPage:l=1}){const r=[];for(let s=0;s<e/t;s++)r[s]=n.default.createElement("button",{key:"pag-"+s,type:"button",onClick:()=>a(s+1),className:"pag",actual:l===s+1?"true":void 0},s+1);return n.default.createElement("div",{className:"pagination"},r)}))),D=(a(23),n.default.memo((function(){const e=y.useDispatch(),[t,a]=Object(n.useState)();return n.default.createElement("div",{className:"filter"},"Ordenar por:",n.default.createElement("select",{className:"category",name:"category",onChange:({target:{value:t}})=>{e(""!==t?u("category",t):u()),a(t)},value:t},n.default.createElement("option",{value:""},"Todos"),n.default.createElement("option",{value:"Phones"},"Phones"),n.default.createElement("option",{value:"Gaming"},"Gaming"),n.default.createElement("option",{value:"Audio"},"Audio"),n.default.createElement("option",{value:"Tablets & E-readers"},"Tablets & E-readers"),n.default.createElement("option",{value:"Phone Accessories"},"Phones Accessories"),n.default.createElement("option",{value:"Cameras"},"Cameras"),n.default.createElement("option",{value:"PC Accessories"},"PC Accessories"),n.default.createElement("option",{value:"Monitors & TV"},"Monitors & TV"),n.default.createElement("option",{value:"Smart Home"},"Smart Home"),n.default.createElement("option",{value:"Drones"},"Drones")),n.default.createElement("button",{type:"button",onClick:()=>e(u("lPrice",t)),className:"price"},"Menor precio"),n.default.createElement("button",{type:"button",onClick:()=>e(u("hPrice",t)),className:"price"},"Mayor precio"))}))),j=(a(24),a.p+"assets/62deff70f25b.svg"),k=a.p+"assets/528dc804bc40.svg",w=n.default.memo((function({type:e="success",onRequestClose:t=(()=>{}),children:a=""}){return n.default.createElement("div",{className:"modal",type:e},n.default.createElement("div",{className:"window"},"success"===e?n.default.createElement("img",{src:j,alt:"success"}):n.default.createElement("img",{src:k,alt:"error"}),a,n.default.createElement("button",{type:"button",onClick:t},"Aceptar")))}));a(25);const A=()=>n.default.createElement(y.Provider,{store:g},n.default.createElement(v,null)),I=function({token:e}){const t=y.useDispatch();return Object(n.useEffect)(()=>{t(m(e))},[t,e]),n.default.createElement("div",{className:"menu"},n.default.createElement(T,null),n.default.createElement(P,{token:e}),n.default.createElement(U,null))},H=function({token:e}){const t=y.useSelector(e=>e),a=y.useDispatch(),[l,r]=Object(n.useState)(1);return Object(n.useEffect)(()=>{a(i(e))},[a,e]),n.default.createElement("div",{className:"products"},n.default.createElement(D,null),n.default.createElement("div",{className:"list",loading:t.products.loading?"":void 0},t.products.loading?n.default.createElement("img",{className:"loader",src:h,alt:"loader"}):!!t.products.list.length&&t.products.list.slice(16*l-16,16*l).map(t=>n.default.createElement(b,{key:t._id,id:t._id,picture:t.img.url,name:t.name,category:t.category,cost:t.cost,token:e}))),n.default.createElement(C,{size:t.products.list.length,sizePage:16,setPage:r,actualPage:l}))};n.default.render(n.default.createElement(A,null),document.getElementById("r-app"))}]);